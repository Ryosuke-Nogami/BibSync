# PaperManager - 研究論文管理アプリケーション

PaperManagerは、研究者や学生のための論文管理アプリケーションです。論文PDFとそのメタデータ、メモを一元管理し、効率的な研究活動をサポートします。

![アプリケーションスクリーンショット](docs/screenshot.png)

## 主な機能

### 1. 論文の管理
- 指定したフォルダ（デフォルト: `~/Papers/`）に保存された論文PDFを自動でリストアップ
- 各論文のメタデータ（タイトル、著者、出版年、DOI、タグなど）をJSON形式で管理
- 論文PDFをアプリ内のビューア（PDF.js）または外部ビューアで開く機能

### 2. メモ機能
- 各論文ごとにMarkdown形式のメモを作成可能
- 数式（$\LaTeX$）をサポート
- メモは`~/Papers/notes/`に保存され、論文とリンク

### 3. BibTeX連携
- JSONメタデータをBibTeXに変換し、.bibファイルをエクスポート
- 既存の.bibファイルをインポートし、該当する論文PDFを検索・自動リンク

### 4. タグ管理
- 各論文にタグを設定し、キーワード（BibTeXのkeywords）と連携
- タグ一覧から論文をフィルタリング可能

### 5. DOI / URLサポート
- DOI / URLをクリックするとブラウザで開く
- DOIからメタデータを自動取得

## インストール方法

### 事前準備
- [Node.js](https://nodejs.org/) (14.x以上)
- [npm](https://www.npmjs.com/) (6.x以上)

### インストール手順

```bash
# リポジトリをクローン
git clone https://github.com/yourusername/paper-manager.git
cd paper-manager

# 依存パッケージをインストール
npm install

# アプリケーションを開発モードで起動
npm start

# アプリケーションをビルド（配布用）
npm run build
```

## 使用方法

### 初期設定
1. アプリケーション起動後、デフォルトで`~/Papers/`フォルダが論文保存先として設定されます
2. 必要に応じて設定から論文フォルダとノートフォルダを変更できます

### 論文の追加と管理
1. PDFファイルを論文フォルダに配置します
2. アプリケーションの「スキャン」ボタンをクリックして、新しい論文を検出します
3. 論文を選択し、メタデータタブでタイトルや著者などの情報を入力します
4. DOIがある場合は、DOI入力欄に入力して「取得」ボタンをクリックすると自動的にメタデータを取得します

### BibTeX連携
1. メタデータタブで「BibTeXエディタ」ボタンをクリックします
2. 既存のBibTeXデータを貼り付けるか、「ファイルからインポート」で.bibファイルを読み込みます
3. パースされたエントリを選択し、「メタデータに適用」をクリックすると論文情報が更新されます
4. 詳細タブから「BibTeXエクスポート」で現在の論文情報を.bibファイルとして出力できます

### メモの作成
1. 論文を選択し、メモタブをクリックします
2. Markdown形式でメモを記入できます（数式もサポート）
3. 自動保存されますが、明示的に保存したい場合は「保存」ボタンをクリックします

### タグの活用
1. メタデータタブでタグを追加・削除できます
2. サイドバーのタグリストからタグをクリックすると、該当する論文だけが表示されます

## プロジェクト構成

```
paper-manager/
│
├── package.json                    # プロジェクト設定と依存関係
├── main.js                         # Electron メインプロセス
├── preload.js                      # プリロードスクリプト（IPC通信用）
│
├── renderer/                       # フロントエンド（Reactアプリ）
│   ├── index.html                  # HTMLエントリーポイント
│   ├── index.js                    # Reactエントリーポイント
│   ├── App.js                      # メインアプリケーションコンポーネント
│   │
│   ├── components/                 # UIコンポーネント
│   │   ├── Sidebar.js              # サイドバーコンポーネント
│   │   ├── PaperList.js            # 論文リストコンポーネント
│   │   ├── TagList.js              # タグリストコンポーネント
│   │   ├── Settings.js             # 設定コンポーネント
│   │   ├── MainView.js             # メインビューコンポーネント
│   │   ├── PaperDetails.js         # 論文詳細コンポーネント
│   │   ├── PDFViewer.js            # PDFビューアコンポーネント
│   │   ├── MetadataEditor.js       # メタデータエディタコンポーネント
│   │   ├── BibEditor.js            # BibTeXエディタコンポーネント
│   │   └── NoteEditor.js           # メモエディタコンポーネント
│   │
│   └── styles/                     # CSSスタイル
│
└── services/                       # バックエンドサービス
    ├── fileManager.js              # ファイル操作（PDF、メタデータ）
    ├── bibtexConverter.js          # BibTeX変換
    └── dbManager.js                # データベース管理
```

## 技術スタック

- **フレームワーク**: [Electron](https://www.electronjs.org/)
- **フロントエンド**: [React](https://reactjs.org/)
- **PDFビューア**: [PDF.js](https://mozilla.github.io/pdf.js/)
- **Markdownレンダリング**: [React Markdown](https://github.com/remarkjs/react-markdown)
- **数式サポート**: [KaTeX](https://katex.org/)
- **データ保存**: [electron-store](https://github.com/sindresorhus/electron-store)

## トラブルシューティング

### よくある問題

1. **論文が検出されない**
   - 論文フォルダのパスが正しく設定されているか確認してください
   - PDFファイルの拡張子が `.pdf` であるか確認してください

2. **BibTeXインポートが動作しない**
   - BibTeXの形式が正しいか確認してください
   - 大きなBibTeXファイルの場合は処理に時間がかかることがあります

3. **メタデータが保存されない**
   - メタデータ編集後、「メタデータを保存」ボタンをクリックしたか確認してください
   - アプリケーションの書き込み権限が正しく設定されているか確認してください

### ログの確認

開発モードで起動した場合は、コンソールにログが表示されます。これらのログはトラブルシューティングに役立ちます。

```bash
npm start
```

## 今後の開発予定

- [ ] 論文PDFからのメタデータ自動抽出
- [ ] 論文間の引用関係の可視化
- [ ] 検索機能の強化（全文検索）
- [ ] クラウド同期機能

## ライセンス

[MIT License](LICENSE)

## 貢献

バグ報告、機能リクエスト、プルリクエストなど、あらゆる形での貢献を歓迎します。大きな変更を加える前には、まずissueを作成して議論してください。
